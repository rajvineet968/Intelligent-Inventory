<%- layout("layouts/boilerplate.ejs") %>
    <style>
        /* ============================= */
        /* My Orders Page Styling */
        /* ============================= */

        /* Page heading */
        .container h2 {
            color: #ffffff;
            font-weight: 800;
            margin-bottom: 1.5rem;
            text-shadow: 0 4px 14px rgba(0, 0, 0, 0.75);
        }

        /* Table base */
        .table {
            border-collapse: separate;
            border-spacing: 0 12px;
        }

        /* Table header */
        .table thead {
            background: #ffffff;
        }

        .table thead th {
            color: #111827;
            font-weight: 700;
            border: none;
            padding: 14px;
        }

        /* Rounded header corners */
        .table thead th:first-child {
            border-top-left-radius: 14px;
        }

        .table thead th:last-child {
            border-top-right-radius: 14px;
        }

        /* Table rows as cards */
        .table tbody tr {
            background: #ffffff;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .table tbody tr:hover {
            transform: translateY(-6px);
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.35);
        }

        /* Rounded row corners */
        .table tbody tr td:first-child {
            border-top-left-radius: 14px;
            border-bottom-left-radius: 14px;
        }

        .table tbody tr td:last-child {
            border-top-right-radius: 14px;
            border-bottom-right-radius: 14px;
        }

        /* Table cells */
        .table td {
            border: none;
            padding: 14px;
            vertical-align: middle;
            color: #1f2937;
            font-weight: 500;
        }

        /* Status badges */
        .badge {
            padding: 6px 12px;
            border-radius: 999px;
            font-weight: 700;
            font-size: 0.75rem;
        }

        /* View button */
        .btn-primary.btn-sm {
            border-radius: 8px;
            font-weight: 600;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .btn-primary.btn-sm:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 22px rgba(59, 130, 246, 0.4);
        }

        /* Empty state text */
        .container p {
            color: #ffffff;
            font-size: 1.05rem;
            opacity: 0.9;
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .table {
                font-size: 0.9rem;
            }

            .table tbody tr:hover {
                transform: none;
            }
        }
    </style>
    <div class="container mt-4">
        <h2>My Orders</h2>

        <% if (orders.length===0) { %>
            <p>You have no orders.</p>
            <% } else { %>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Total</th>
                            <th>Status</th>
                            <th>Date</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% orders.forEach(order=> { %>
                            <tr>
                                <td>#<%= order.OrderID %>
                                </td>
                                <td>â‚¹ <%= Number(order.total_amount).toFixed(2) %>
                                </td>
                                <td><span class="badge 
                                                        <%= order.Status === 'DELIVERED' ? 'bg-success' :
                                                            order.Status === 'CANCELLED' ? 'bg-danger' :
                                                            'bg-warning' %>">
                                        <%= order.Status %>
                                    </span>
                                </td>
                                <td>
                                    <%= new Date(order.created_at).toLocaleString() %>
                                </td>
                                <td>
                                    <a href="/orders/<%= order.OrderID %>" class="btn btn-sm btn-primary">
                                        <i class="fa fa-eye"></i>&nbsp;View
                                    </a>
                                </td>
                            </tr>
                            <% }) %>
                    </tbody>
                </table>
                <% } %>
    </div>