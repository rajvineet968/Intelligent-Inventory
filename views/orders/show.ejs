<%- layout("layouts/boilerplate.ejs") %>
    <style>
        /* ============================= */
        /* Order Details Page Styling */
        /* ============================= */

        /* Page heading */
        .container h2 {
            color: #ffffff;
            font-weight: 800;
            margin-bottom: 0.5rem;
            text-shadow: 0 4px 14px rgba(0, 0, 0, 0.75);
        }

        /* Status line */
        .container p strong {
            padding: 4px 10px;
            border-radius: 999px;
            font-size: 0.85rem;
            font-weight: 700;
            background: rgba(255, 255, 255, 0.15);
            color: #ffffff;
        }

        /* ============================= */
        /* Table */
        /* ============================= */
        .table {
            margin-top: 1rem;
            border-collapse: separate;
            border-spacing: 0 12px;
        }

        /* Table header */
        .table thead {
            background: #ffffff;
        }

        .table thead th {
            color: #111827;
            font-weight: 700;
            border: none;
            padding: 14px;
        }

        /* Rounded header corners */
        .table thead th:first-child {
            border-top-left-radius: 14px;
        }

        .table thead th:last-child {
            border-top-right-radius: 14px;
        }

        /* Rows as cards */
        .table tbody tr {
            background: #ffffff;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .table tbody tr:hover {
            transform: translateY(-6px);
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.35);
        }

        /* Rounded row corners */
        .table tbody tr td:first-child {
            border-top-left-radius: 14px;
            border-bottom-left-radius: 14px;
        }

        .table tbody tr td:last-child {
            border-top-right-radius: 14px;
            border-bottom-right-radius: 14px;
        }

        /* Table cells */
        .table td {
            border: none;
            padding: 14px;
            vertical-align: middle;
            color: #1f2937;
            font-weight: 500;
        }

        /* ============================= */
        /* Address Section */
        /* ============================= */
        h5 {
            margin-top: 2rem;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);
        }

        .container p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* ============================= */
        /* Grand Total */
        /* ============================= */
        h4 {
            margin-top: 1.5rem;
            font-weight: 800;
            color: #22c55e;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);
        }

        /* ============================= */
        /* Order Status Pills */
        /* ============================= */
        .order-status {
            padding: 6px 14px;
            border-radius: 999px;
            font-weight: 700;
            font-size: 0.85rem;
            margin-left: 6px;
            display: inline-block;
            letter-spacing: 0.4px;
            text-transform: uppercase;
        }

        /* PLACED – Blue */
        .order-status.placed {
            background: rgba(59, 130, 246, 0.25);
            color: #3b82f6;
            box-shadow: 0 0 14px rgba(59, 130, 246, 0.35);
        }

        /* CONFIRMED – Indigo */
        .order-status.confirmed {
            background: rgba(99, 102, 241, 0.25);
            color: #6366f1;
            box-shadow: 0 0 14px rgba(99, 102, 241, 0.35);
        }

        /* SHIPPED – Orange */
        .order-status.shipped {
            background: rgba(249, 115, 22, 0.25);
            color: #f97316;
            box-shadow: 0 0 14px rgba(249, 115, 22, 0.35);
        }

        /* DELIVERED – Green */
        .order-status.delivered {
            background: rgba(34, 197, 94, 0.25);
            color: #22c55e;
            box-shadow: 0 0 14px rgba(34, 197, 94, 0.35);
        }

        /* CANCELLED – Red */
        .order-status.cancelled {
            background: rgba(239, 68, 68, 0.25);
            color: #ef4444;
            box-shadow: 0 0 14px rgba(239, 68, 68, 0.35);
        }

        .order-status {
            animation: statusPop 0.4s ease;
        }

        @keyframes statusPop {
            0% {
                transform: scale(0.9);
                opacity: 0;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }


        /* ============================= */
        /* Sweet Address Box */
        /* ============================= */
        .address-box {
            margin-top: 0.5rem;
            padding: 1rem 1.25rem;
            border-radius: 14px;
            background: linear-gradient(180deg,
                    rgba(255, 255, 255, 0.18),
                    rgba(255, 255, 255, 0.08));
            backdrop-filter: blur(6px);
            color: #ffffff;
            font-size: 0.95rem;
            line-height: 1.6;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.35);
        }


        /* ============================= */
        /* Mobile */
        /* ============================= */
        @media (max-width: 768px) {
            .table {
                font-size: 0.9rem;
            }

            .table tbody tr:hover {
                transform: none;
            }
        }
    </style>
    <div class="container mt-4">
        <h2>Order #<%= order.OrderID %>
        </h2>
        <p>
            Status:
            <span class="order-status <%= order.Status.toLowerCase() %>">
                <%= order.Status %>
            </span>
        </p>

        <table class="table mt-3">
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Qty</th>
                    <th>Price</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <% items.forEach(item=> { %>
                    <tr>
                        <td>
                            <%= item.StockCode %> - <%= item.Description %>
                        </td>
                        <td>
                            <%= item.Quantity %>
                        </td>
                        <td>₹ <%= item.Unit_Price %>
                        </td>
                        <td>₹ <%= Number(item.total).toFixed(2) %>
                        </td>
                    </tr>
                    <% }) %>
            </tbody>
        </table>
        <h5>Delivery Address</h5>

        <div class="address-box">
            <%= order.address_line1 %><br>
                <% if(order.address_line2){ %>
                    <%= order.address_line2 %><br>
                        <% } %>
                            <%= order.city %>, <%= order.state %> - <%= order.pincode %>
        </div>

        <h4 class="mt-3">Grand Total: ₹ <%= Number(order.total_amount).toFixed(2) %>
        </h4>
    </div>